(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{8903:function(e,t,n){"use strict";n.d(t,{c:function(){return L}});var r=n(7294),l=n(4063),c=n.n(l);function s(e){return null===e||"object"!=typeof e?{}:Object.keys(e).reduce((t,n)=>{let r=e[n];return null!=r&&!1!==r&&(t[n]=r),t},{})}var a=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&f(e,n,t[n]);if(i)for(var n of i(t))u.call(t,n)&&f(e,n,t[n]);return e};function d(e,t){if(null===t||"object"!=typeof t)return{};let n=h({},t);return Object.keys(t).forEach(t=>{t.includes(`${String(e)}.`)&&delete n[t]}),n}function j(e,t){return!!t&&("boolean"==typeof t?t:!!Array.isArray(t)&&t.includes(e.replace(/[.][0-9]/g,".__MANTINE_FORM_INDEX__")))}function p(e){return"string"!=typeof e?[]:e.split(".")}function b(e,t,n){let r=p(e);if(0===r.length)return n;let l=function e(t){if("object"!=typeof t)return t;var n,r,l=Object.prototype.toString.call(t);if("[object Object]"===l){if(t.constructor!==Object&&"function"==typeof t.constructor)for(n in r=new t.constructor,t)t.hasOwnProperty(n)&&r[n]!==t[n]&&(r[n]=e(t[n]));else for(n in r={},t)"__proto__"===n?Object.defineProperty(r,n,{value:e(t[n]),configurable:!0,enumerable:!0,writable:!0}):r[n]=e(t[n]);return r}if("[object Array]"===l){for(r=Array(n=t.length);n--;)r[n]=e(t[n]);return r}return"[object Set]"===l?(r=new Set,t.forEach(function(t){r.add(e(t))}),r):"[object Map]"===l?(r=new Map,t.forEach(function(t,n){r.set(e(n),e(t))}),r):"[object Date]"===l?new Date(+t):"[object RegExp]"===l?((r=RegExp(t.source,t.flags)).lastIndex=t.lastIndex,r):"[object DataView]"===l?new t.constructor(e(t.buffer)):"[object ArrayBuffer]"===l?t.slice(0):"Array]"===l.slice(-6)?new t.constructor(t):t}(n);if(1===r.length)return l[r[0]]=t,l;let c=l[r[0]];for(let s=1;s<r.length-1;s+=1){if(void 0===c)return l;c=c[r[s]]}return c[r[r.length-1]]=t,l}function m(e,t){let n=p(e);if(0===n.length||"object"!=typeof t||null===t)return;let r=t[n[0]];for(let l=1;l<n.length&&void 0!==r;l+=1)r=r[n[l]];return r}function g(e){let t=s(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function y(e,t){return"function"==typeof e?g(e(t)):g(function e(t,n,r="",l={}){return"object"!=typeof t||null===t?l:Object.keys(t).reduce((l,c)=>{let s=t[c],a=`${""===r?"":`${r}.`}${c}`,i=m(a,n),o=!1;return"function"==typeof s&&(l[a]=s(i,n,a)),"object"==typeof s&&Array.isArray(i)&&(o=!0,i.forEach((t,r)=>e(s,n,`${a}.${r}`,l))),"object"!=typeof s||"object"!=typeof i||null===i||o||e(s,n,a,l),l},l)}(e,t))}function x(e,t,n){if("string"!=typeof e)return{hasError:!1,error:null};let r=y(t,n),l=Object.keys(r.errors).find(t=>e.split(".").every((e,n)=>e===t.split(".")[n]));return{hasError:!!l,error:l?r.errors[l]:null}}function k(e,t){let n=Object.keys(e);if("string"==typeof t){let r=n.filter(e=>e.includes(`${t}.`));return e[t]||r.some(t=>e[t])||!1}return n.some(t=>e[t])}var N=Object.defineProperty,O=Object.defineProperties,v=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))E.call(t,n)&&_(e,n,t[n]);if(w)for(var n of w(t))C.call(t,n)&&_(e,n,t[n]);return e},A=(e,t)=>O(e,v(t));function L({initialValues:e={},initialErrors:t={},initialDirty:n={},initialTouched:l={},clearInputErrorOnChange:a=!0,validateInputOnChange:i=!1,validateInputOnBlur:o=!1,transformValues:u=e=>e,validate:f}={}){let[h,p]=(0,r.useState)(l),[g,N]=(0,r.useState)(n),[O,v]=(0,r.useState)(e),[w,E]=(0,r.useState)(s(t)),C=(0,r.useRef)(e),_=e=>{C.current=e},L=(0,r.useCallback)(()=>p({}),[]),P=e=>{_(e||O),N({})},I=(0,r.useCallback)(e=>E(t=>s("function"==typeof e?e(t):e)),[]),R=(0,r.useCallback)(()=>E({}),[]),T=(0,r.useCallback)(()=>{v(e),R(),P(e),L()},[]),D=(0,r.useCallback)((e,t)=>I(n=>A(S({},n),{[e]:t})),[]),M=(0,r.useCallback)(e=>I(t=>{if("string"!=typeof e)return t;let n=S({},t);return delete n[e],n}),[]),F=(0,r.useCallback)(e=>N(t=>{if("string"!=typeof e)return t;let n=d(e,t);return delete n[e],n}),[]),$=(0,r.useCallback)((e,t)=>{let n=j(e,i);F(e),p(t=>A(S({},t),{[e]:!0})),v(r=>{let l=b(e,t,r);if(n){let c=x(e,f,l);c.hasError?D(e,c.error):M(e)}return l}),!n&&a&&D(e,null)},[]),B=(0,r.useCallback)(e=>{v(t=>{let n="function"==typeof e?e(t):e;return S(S({},t),n)}),a&&R()},[]),q=(0,r.useCallback)((e,t)=>{F(e),v(n=>(function(e,{from:t,to:n},r){let l=m(e,r);if(!Array.isArray(l))return r;let c=[...l],s=l[t];return c.splice(t,1),c.splice(n,0,s),b(e,c,r)})(e,t,n))},[]),H=(0,r.useCallback)((e,t)=>{F(e),v(n=>(function(e,t,n){let r=m(e,n);return Array.isArray(r)?b(e,r.filter((e,n)=>n!==t),n):n})(e,t,n)),E(t=>d(e,t))},[]),V=(0,r.useCallback)((e,t,n)=>{F(e),v(r=>(function(e,t,n,r){let l=m(e,r);if(!Array.isArray(l))return r;let c=[...l];return c.splice("number"==typeof n?n:c.length,0,t),b(e,c,r)})(e,t,n,r))},[]),Q=(0,r.useCallback)(()=>{let e=y(f,O);return E(e.errors),e},[O,f]),X=(0,r.useCallback)(e=>{let t=x(e,f,O);return t.hasError?D(e,t.error):M(e),t},[O,f]),J=(e,{type:t="input",withError:n="input"===t,withFocus:r=!0}={})=>{var l;let c=(l=t=>$(e,t),e=>{if(e){if("function"==typeof e)l(e);else if("object"==typeof e&&"nativeEvent"in e){let{currentTarget:t}=e;t instanceof HTMLInputElement?"checkbox"===t.type?l(t.checked):l(t.value):(t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement)&&l(t.value)}else l(e)}else l(e)}),s={onChange:c};return n&&(s.error=w[e]),"checkbox"===t?s.checked=m(e,O):s.value=m(e,O),r&&(s.onFocus=()=>p(t=>A(S({},t),{[e]:!0})),s.onBlur=()=>{if(j(e,o)){let t=x(e,f,O);t.hasError?D(e,t.error):M(e)}}),s},U=(e,t)=>n=>{null==n||n.preventDefault();let r=Q();r.hasErrors?null==t||t(r.errors,O,n):e(u(O),n)},Y=(0,r.useCallback)(e=>{e.preventDefault(),T()},[]),G=e=>{let t=Object.keys(g).length>0;if(t)return k(g,e);if(e){let n=m(e,O),r=m(e,C.current);return!c()(n,r)}return!c()(O,C.current)},W=(0,r.useCallback)(e=>k(h,e),[h]),z=(0,r.useCallback)(e=>e?!x(e,f,O).hasError:!y(f,O).hasErrors,[O,f]);return{values:O,errors:w,setValues:B,setErrors:I,setFieldValue:$,setFieldError:D,clearFieldError:M,clearErrors:R,reset:T,validate:Q,validateField:X,reorderListItem:q,removeListItem:H,insertListItem:V,getInputProps:J,onSubmit:U,onReset:Y,isDirty:G,isTouched:W,setTouched:p,setDirty:N,resetTouched:L,resetDirty:P,isValid:z}}},4063:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(l=r;0!=l--;)if(!e(t[l],n[l]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(c=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(l=r;0!=l--;)if(!Object.prototype.hasOwnProperty.call(n,c[l]))return!1;for(l=r;0!=l--;){var r,l,c,s=c[l];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},1556:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/otp",function(){return n(7597)}])},4480:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});let r=async()=>fetch("/api/auth/user").then(e=>e.json()).then(e=>e.data?e.data:null)},7597:function(e,t,n){"use strict";n.r(t);var r=n(5893),l=n(7294),c=n(8903),s=n(1163),a=n(4480);let i=()=>{let e=(0,s.useRouter)(),t=async()=>{let t=await (0,a.B)();t?"NOTVERIFIED"!==t.status?e.push("/dashboard"):e.push("/otp"):e.push("/login")};(0,l.useEffect)(()=>{t()},[]);let n=async()=>{let e=await fetch("/api/auth/register/code"),t=await e.json();200===t.statusCode?alert("Code sent successfully"):(console.log(t),alert("Something went wrong"))},i=async t=>{let n=await fetch("/api/auth/register/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({otp:parseInt(t,10)})}),r=await n.json();200===r.statusCode?e.push("/dashboard"):(console.log(r),alert("Something went wrong"))},o=(0,c.c)({validateInputOnChange:!0,initialValues:{otp:""}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:"col-12 just-cnt-cent align-itm-cent",children:(0,r.jsxs)("div",{className:"cont col-12 just-cnt-spbw align-itm-cent",children:[(0,r.jsx)("div",{className:"h-logo just-cnt-spbw align-itm-cent",children:(0,r.jsx)("img",{src:"./images/h-logo-dark.png",alt:"Logo",className:"just-cnt-spbw align-itm-cent col-12"})}),(0,r.jsx)("nav",{className:"col-6 just-cnt-cent align-itm-cent displ-tab",children:(0,r.jsxs)("ul",{className:"col-12 just-cnt-cent align-itm-cent",children:[(0,r.jsx)("li",{className:"just-cnt-cent align-itm-cent",children:(0,r.jsx)("a",{className:"just-cnt-cent align-itm-cent",href:"#",children:"Home"})}),(0,r.jsx)("li",{className:"just-cnt-cent align-itm-cent",children:(0,r.jsx)("a",{className:"just-cnt-cent align-itm-cent",href:"#",children:"About-Us"})}),(0,r.jsx)("li",{className:"just-cnt-cent align-itm-cent",children:(0,r.jsx)("a",{className:"just-cnt-cent align-itm-cent",href:"#",children:"FAQs"})}),(0,r.jsx)("li",{className:"just-cnt-cent align-itm-cent",children:(0,r.jsx)("a",{className:"just-cnt-cent align-itm-cent",href:"#",children:"Join-Us"})})]})}),(0,r.jsxs)("div",{className:"h-btns align-itm-cent displ-tab",children:[(0,r.jsx)("a",{href:"/login",className:"jose",children:"Login"}),(0,r.jsx)("a",{href:"/signup",className:"jose",children:"Signup"})]}),(0,r.jsx)("button",{type:"button",className:"toggle-side-bar displ-mob",children:(0,r.jsx)("i",{className:"fas fa-bars"})})]})}),(0,r.jsx)("main",{className:"col-12",children:(0,r.jsx)("div",{className:"cont col-12 just-cnt-cent flx-d-col",children:(0,r.jsxs)("div",{className:"form col-12 just-cnt-cent align-itm-cent flx-d-col",children:[(0,r.jsx)("h1",{className:"col-12 txt-al-cent",children:"OTP sent at your mail"}),(0,r.jsxs)("form",{method:"post",className:"col-12 just-cnt-cent flx-d-col",onSubmit:o.onSubmit(e=>i(e.otp)),children:[(0,r.jsx)("label",{children:"Registered Email"}),(0,r.jsx)("input",{type:"email",name:"user_email",id:"",readOnly:!0,required:!0,className:"col-12",placeholder:"Your Email"}),(0,r.jsx)("label",{children:"Otp *"}),(0,r.jsx)("input",{type:"password",name:"otp",id:"",required:!0,className:"col-12",placeholder:"Your Otp",maxLength:6,minLength:6,...o.getInputProps("otp")}),(0,r.jsxs)("p",{className:"error1",children:["* Required, Please Fill all the required Fields"," "]}),(0,r.jsx)("hr",{}),(0,r.jsx)("button",{type:"submit",children:"Verify"}),(0,r.jsxs)("div",{className:"links col-12 just-cnt-spbw",children:[(0,r.jsx)("a",{href:"./index.html",children:"← Go Back"}),(0,r.jsx)("button",{type:"button",onClick:()=>n(),children:"Resend OTP"})]}),(0,r.jsx)("button",{type:"button",children:"Change Email"})]})]})})}),(0,r.jsxs)("footer",{className:"col-12 just-cnt-cent align-itm-cent flx-d-col",children:[(0,r.jsxs)("div",{className:"cont col-12 just-cnt-cent align-itm-cent flx-wrp",children:[(0,r.jsx)("div",{className:"sub-cont col-12 col-md-3 flx-d-col just-cnt-cent align-itm-cent",children:(0,r.jsx)("img",{src:"./images/main-logo.png",alt:"",className:"col-12"})}),(0,r.jsxs)("div",{className:"sub-cont col-12 col-md-3 flx-d-col just-cnt-cent align-itm-cent",children:[(0,r.jsx)("h3",{children:"Quick Links"}),(0,r.jsx)("a",{href:"#",children:"Link →"}),(0,r.jsx)("a",{href:"#",children:"Link →"}),(0,r.jsx)("a",{href:"#",children:"Link →"}),(0,r.jsx)("a",{href:"#",children:"Link →"})]}),(0,r.jsxs)("div",{className:"sub-cont col-12 col-md-3 flx-d-col just-cnt-cent align-itm-cent",children:[(0,r.jsx)("h3",{children:"Quick Links"}),(0,r.jsx)("a",{href:"#",children:"Link →"}),(0,r.jsx)("a",{href:"#",children:"Link →"}),(0,r.jsx)("a",{href:"#",children:"Link →"}),(0,r.jsx)("a",{href:"#",children:"Link →"})]}),(0,r.jsxs)("div",{className:"sub-cont col-12 col-md-3 just-cnt-cent align-itm-cent",children:[(0,r.jsx)("a",{href:"#",children:(0,r.jsx)("i",{className:"fab fa-instagram"})}),(0,r.jsx)("a",{href:"#",children:(0,r.jsx)("i",{className:"fab fa-facebook-f"})}),(0,r.jsx)("a",{href:"#",children:(0,r.jsx)("i",{className:"fab fa-twitter"})}),(0,r.jsx)("a",{href:"#",children:(0,r.jsx)("i",{className:"fab fa-telegram"})})]})]}),(0,r.jsx)("div",{className:"copyr col-12 just-cnt-cent align-itm-cent txt-al-cent",children:(0,r.jsxs)("p",{className:"col-12 txt-al-cent",children:["Copyright - LegalDoji \xa9 All Rights Reserved, 2022 ",(0,r.jsx)("br",{}),"Made and Managed By Web-Fire.com"]})})]})]})};t.default=i},1163:function(e,t,n){e.exports=n(880)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1556)}),_N_E=e.O()}]);